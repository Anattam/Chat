<!doctype html>
<html>
  <head>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Chat App</title>
    <style>
      ul {
        list-style-type: none;
        margin: 25px 50px 50px;
      }
      li {
        width: 25%;
        padding: 8px 25px;
        background: #0000ff;
        color: #fff;
        margin-bottom: 10px;
        font-size: 21px;
        font-family: arial;
        border-radius: 20px;
      }
      button {
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .box {
        display: flex;
        color: white;
        margin: 25px 50px 50px;
      }
    </style>
  </head>
  <body>
    <h1 class="font-bold text-green-500 text-3xl text-center mt-5">
      Chat App Project
    </h1>
    <ul class="mx-14 my-10" id="messages"></ul>
    <div class="box">
      <input
        id="input"
        autocomplete="off"
        placeholder="Type a message..."
        class="rounded-3xl px-3 py-1 w-full m-2 opacity-50 text-white bg-black"
      />
      <button class="rounded-full p-5 bg-[#90EE90]" onclick="sendMessage()">
        <?xml version="1.0" encoding="iso-8859-1"?>
        <svg
          fill="#000000"
          height="24px"
          width="24px"
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 512.001 512.001"
          xml:space="preserve"
        >
          <g>
            <g>
              <path
                d="M483.927,212.664L66.967,25.834C30.95,9.695-7.905,42.023,1.398,80.368l21.593,89.001
              c3.063,12.622,11.283,23.562,22.554,30.014l83.685,47.915c6.723,3.85,6.738,13.546,0,17.405l-83.684,47.915
              c-11.271,6.452-19.491,17.393-22.554,30.015l-21.594,89c-9.283,38.257,29.506,70.691,65.569,54.534l416.961-186.83
              C521.383,282.554,521.333,229.424,483.927,212.664z M359.268,273.093l-147.519,66.1c-9.44,4.228-20.521,0.009-24.752-9.435
              c-4.231-9.44-0.006-20.523,9.434-24.752l109.37-49.006l-109.37-49.006c-9.44-4.231-13.665-15.313-9.434-24.752
              c4.229-9.44,15.309-13.666,24.752-9.435l147.519,66.101C373.996,245.505,374.007,266.49,359.268,273.093z"
              />
            </g>
          </g>
        </svg>
      </button>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io();

      function sendMessage() {
        const input = document.getElementById("input");
        socket.emit("chat message", input.value);
        input.value = "";
      }

      socket.on("chat message", (msg) => {
        const messages = document.getElementById("messages");
        const item = document.createElement("li");
        item.textContent = msg;
        messages.appendChild(item);
        window.scrollTo(0, document.body.scrollHeight);
      });
    </script>
  </body>
</html>
